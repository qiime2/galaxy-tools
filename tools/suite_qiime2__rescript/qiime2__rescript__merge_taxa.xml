<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2024, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2024.10.0)
for:
    qiime2 (version: 2024.10.1)
-->
<tool name="qiime2 rescript merge-taxa" id="qiime2__rescript__merge_taxa" version="2024.10.0+q2galaxy.2024.10.0" profile="22.05" license="BSD-3-Clause">
    <description>Compare taxonomies and select the longest, highest scoring, or find the least common ancestor.</description>
    <xrefs>
        <xref type="bio.tools">qiime2</xref>
    </xrefs>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2024.10</container>
    </requirements>
    <version_command>q2galaxy version rescript</version_command>
    <command detect_errors="exit_code">q2galaxy run rescript merge_taxa '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="data" type="data" format="qza" label="data: List[FeatureData[Taxonomy]]" help="[required]  Two or more feature taxonomies to be merged." multiple="true">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Taxonomy]"/>
            </options>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="mode" type="select" label="mode: Str % Choices('len', 'lca', 'score', 'super', 'majority')">
                <option value="len" selected="true">len</option>
                <option value="lca">lca</option>
                <option value="score">score</option>
                <option value="super">super</option>
                <option value="majority">majority</option>
            </param>
            <param name="rank_handle_regex" type="text" value="^[dkpcofgs]__" label="rank_handle_regex: Str" help="[default: '^[dkpcofgs]__']  Regular expression indicating which taxonomic rank a label belongs to; this handle is stripped from the label prior to operating on the taxonomy. The net effect is that ambiguous or empty levels can be removed prior to comparison, enabling selection of taxonomies with more complete taxonomic information. For example, &quot;^[dkpcofgs]__&quot; will recognize greengenes or silva rank handles. Note that rank_handles are removed but not replaced; use the new_rank_handle parameter to replace the rank handles.">
                <sanitizer>
                    <valid initial="string.printable"/>
                </sanitizer>
            </param>
            <param name="new_rank_handles" type="text" value="NOT YET IMPLEMENTED">
                <validator type="expression" message="NOT YET IMPLEMENTED">False</validator>
            </param>
            <param name="unclassified_label" type="text" value="Unassigned" label="unclassified_label: Str" help="[default: 'Unassigned']  Specifies what label should be used for taxonomies that could not be resolved (when LCA modes are used).">
                <sanitizer>
                    <valid initial="string.printable"/>
                </sanitizer>
            </param>
        </section>
    </inputs>
    <outputs>
        <data name="merged_data" format="qza" label="${tool.name} on ${on_string}: merged_data.qza" from_work_dir="merged_data.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: rescript merge-taxa
============================
Compare taxonomies and select the longest, highest scoring, or find the least common ancestor.


Outputs:
--------
:merged_data.qza: &lt;no description&gt;

|  

Description:
------------
Compare taxonomy annotations and choose the best one. Can select the longest taxonomy annotation, the highest scoring, or the least common ancestor. Note: when a tie occurs, the last taxonomy added takes precedent.


|  

</help>
    <citations>
        <citation type="doi">10.1371/journal.pcbi.1009581</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
