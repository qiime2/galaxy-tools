<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2024, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2024.2.1)
for:
    qiime2 (version: 2024.2.0)
-->
<tool name="qiime2 rescript cull-seqs" id="qiime2__rescript__cull_seqs" version="2024.2.2+q2galaxy.2024.2.1" profile="22.05" license="BSD-3-Clause">
    <description>Removes sequences that contain at least the specified number of degenerate bases and/or homopolymers of a given length.</description>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2024.2</container>
    </requirements>
    <version_command>q2galaxy version rescript</version_command>
    <command detect_errors="exit_code">q2galaxy run rescript cull_seqs '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="sequences" type="data" format="qza" label="sequences: FeatureData[Sequence | RNASequence]" help="[required]  DNA or RNA Sequences to be screened for removal based on degenerate base and homopolymer screening criteria.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[RNASequence]"/>
                <filter type="add_value" value="FeatureData[Sequence]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[RNASequence]', 'FeatureData[Sequence]']</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="num_degenerates" type="integer" min="1" value="5" label="num_degenerates: Int % Range(1, None)" help="[default: 5]  Sequences with N, or more, degenerate bases will be removed."/>
            <param name="homopolymer_length" type="integer" min="2" value="8" label="homopolymer_length: Int % Range(2, None)" help="[default: 8]  Sequences containing a homopolymer sequence of length N, or greater, will be removed."/>
            <param name="n_jobs" type="integer" min="1" value="1" label="n_jobs: Int % Range(1, None)" help="[default: 1]  Number of concurrent processes to use while processing sequences. More is faster but typically should not be higher than the number of available CPUs. Output sequence order may change when using multiple jobs."/>
        </section>
    </inputs>
    <outputs>
        <data name="clean_sequences" format="qza" label="${tool.name} on ${on_string}: clean_sequences.qza" from_work_dir="clean_sequences.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: rescript cull-seqs
===========================
Removes sequences that contain at least the specified number of degenerate bases and/or homopolymers of a given length.


Outputs:
--------
:clean_sequences.qza: The resulting DNA sequences that pass degenerate base and homopolymer screening criteria.

|  

Description:
------------
Filter DNA or RNA sequences that contain ambiguous bases and homopolymers, and output filtered DNA sequences. Removes DNA sequences that have the specified number, or more, of IUPAC compliant degenerate bases. Remaining sequences are removed if they contain homopolymers equal to or longer than the specified length. If the input consists of RNA sequences, they are reverse transcribed to DNA before filtering.


|  

</help>
    <citations>
        <citation type="doi">10.1371/journal.pcbi.1009581</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
