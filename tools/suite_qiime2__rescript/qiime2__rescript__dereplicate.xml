<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2024, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2024.10.0)
for:
    qiime2 (version: 2024.10.1)
-->
<tool name="qiime2 rescript dereplicate" id="qiime2__rescript__dereplicate" version="2024.10.0+q2galaxy.2024.10.0" profile="22.05" license="BSD-3-Clause">
    <description>Dereplicate features with matching sequences and taxonomies.</description>
    <xrefs>
        <xref type="bio.tools">qiime2</xref>
    </xrefs>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2024.10</container>
    </requirements>
    <version_command>q2galaxy version rescript</version_command>
    <command detect_errors="exit_code">q2galaxy run rescript dereplicate '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="sequences" type="data" format="qza" label="sequences: FeatureData[Sequence]" help="[required]  Sequences to be dereplicated">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Sequence]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[Sequence]']</validator>
        </param>
        <param name="taxa" type="data" format="qza" label="taxa: FeatureData[Taxonomy]" help="[required]  Taxonomic classifications of sequences to be dereplicated">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Taxonomy]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[Taxonomy]']</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="mode" type="select" label="mode: Str % Choices('uniq', 'lca', 'majority', 'super')" display="radio">
                <option value="uniq" selected="true">uniq</option>
                <option value="lca">lca</option>
                <option value="majority">majority</option>
                <option value="super">super</option>
            </param>
            <param name="perc_identity" type="float" min="1e-06" max="1" value="1.0" label="perc_identity: Float % Range(0, 1, inclusive_start=False, inclusive_end=True)" help="[default: 1.0]  The percent identity at which clustering should be performed. This parameter maps to vsearch's --id parameter."/>
            <param name="threads" type="integer" min="1" max="255" value="1" label="threads: Int % Range(1, 256)" help="[default: 1]  Number of computation threads to use (1 to 256). The number of threads should be lesser or equal to the number of available CPU cores."/>
            <param name="rank_handles" type="text" value="NOT YET IMPLEMENTED">
                <validator type="expression" message="NOT YET IMPLEMENTED">False</validator>
            </param>
            <param name="derep_prefix" type="boolean" truevalue="__q2galaxy__::literal::True" falsevalue="__q2galaxy__::literal::False" label="derep_prefix: Bool" help="[default: No]  Merge sequences with identical prefixes. If a sequence is identical to the prefix of two or more longer sequences, it is clustered with the shortest of them. If they are equally long, it is clustered with the most abundant."/>
        </section>
    </inputs>
    <outputs>
        <data name="dereplicated_sequences" format="qza" label="${tool.name} on ${on_string}: dereplicated_sequences.qza" from_work_dir="dereplicated_sequences.qza"/>
        <data name="dereplicated_taxa" format="qza" label="${tool.name} on ${on_string}: dereplicated_taxa.qza" from_work_dir="dereplicated_taxa.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: rescript dereplicate
=============================
Dereplicate features with matching sequences and taxonomies.


Outputs:
--------
:dereplicated_sequences.qza: &lt;no description&gt;
:dereplicated_taxa.qza: &lt;no description&gt;

|  

Description:
------------
Dereplicate FASTA format sequences and taxonomies wherever sequences and taxonomies match; duplicated sequences and taxonomies are dereplicated using the "mode" parameter to either: retain all sequences that have unique taxonomic annotations even if the sequences are duplicates (uniq); or return only dereplicated sequences labeled by either the least common ancestor (lca) or the most common taxonomic label associated with sequences in that cluster (majority). Note: all taxonomy strings will be coerced to semicolon delimiters without any leading or trailing spaces. If this is not desired, please use 'rescript edit-taxonomy' to make any changes.


|  

</help>
    <citations>
        <citation type="doi">10.7717/peerj.2584</citation>
        <citation type="doi">10.1371/journal.pcbi.1009581</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
