<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2022, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2022.8.1)
for:
    qiime2 (version: 2022.8.1)
-->
<tool name="qiime2 gneiss ilr-phylogenetic-ordination" id="qiime2__gneiss__ilr_phylogenetic_ordination" version="2022.8.0+q2galaxy.2022.8.1.2" profile="22.05" license="BSD-3-Clause">
    <description>Ordination through a phylogenetic Isometric Log Ratio transform.</description>
    <requirements>
        <container type="docker">quay.io/qiime2/core:2022.8</container>
    </requirements>
    <version_command>q2galaxy version gneiss</version_command>
    <command detect_errors="aggressive">q2galaxy run gneiss ilr_phylogenetic_ordination '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="paths"/>
    </configfiles>
    <inputs>
        <param name="table" type="data" format="qza" label="table: FeatureTable[Frequency | Composition]" help="[required]  The feature table containing the samples in which the ilr transform will be performed.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureTable[Composition]"/>
                <filter type="add_value" value="FeatureTable[Frequency]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureTable[Composition]', 'FeatureTable[Frequency]']</validator>
        </param>
        <param name="tree" type="data" format="qza" label="tree: Phylogeny[Rooted]" help="[required]  A rooted phylogeny of feature identifiers that defines the partitions of features.  Each tip in the hierarchycorresponds to the feature identifiers in the table. This tree can contain tip ids that are not present in the table, but all feature ids in the table must be present in this tree.  This assumes that all of the internal nodes in the tree have labels. This tree may contain polytomic nodes (i.e., nodes with more than two children), in which case they will be bifurcated.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="Phylogeny[Rooted]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['Phylogeny[Rooted]']</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="pseudocount" type="float" value="0.5" label="pseudocount: Float" help="[default: 0.5]  The value to add to zero counts in the feature table."/>
            <param name="top_k_var" type="integer" value="10" label="top_k_var: Int" help="[default: 10]  The top k most variable balances."/>
            <repeat name="clades" help="[optional]  The names of clades to focus on (overrides top-k-var)." title="clades: List[Str]">
                <param name="element" type="text" label="element: Str" help="[required]">
                    <sanitizer>
                        <valid initial="string.printable"/>
                    </sanitizer>
                    <validator type="expression" message="Please verify this parameter.">value is not None and len(value) &gt; 0</validator>
                </param>
            </repeat>
        </section>
    </inputs>
    <outputs>
        <data name="ordination" format="qza" label="${tool.name} on ${on_string}: ordination.qza" from_work_dir="ordination.qza"/>
        <data name="bifurcated_tree" format="qza" label="${tool.name} on ${on_string}: bifurcated_tree.qza" from_work_dir="bifurcated_tree.qza"/>
        <data name="clade_metadata" format="qza" label="${tool.name} on ${on_string}: clade_metadata.qza" from_work_dir="clade_metadata.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: gneiss ilr-phylogenetic-ordination
===========================================
Ordination through a phylogenetic Isometric Log Ratio transform.


Outputs:
--------
:ordination.qza: The resulting ordination from the ilr transform.
:bifurcated_tree.qza: Bifurcating phylogeny
:clade_metadata.qza: Metadata specifying clade membership.

|  

Description:
------------
Compute an ILR ordination given a rooted phylogeny.


|  

</help>
    <citations>
        <citation type="bibtex">@article{cite1,
 author = {Morton, James T and Sanders, Jon and Quinn, Robert A and McDonald, Daniel and Gonzalez, Antonio and VÃ¡zquez-Baeza, Yoshiki and Navas-Molina, Jose A and Song, Se Jin and Metcalf, Jessica L and Hyde, Embriette R and Lladser, Manuel and Dorrestein, Pieter C and Knight, Rob},
 journal = {MSystems},
 number = {1},
 pages = {e00162--16},
 publisher = {Am Soc Microbiol},
 title = {Balance trees reveal microbial niche differentiation},
 volume = {2},
 year = {2017}
}
</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
