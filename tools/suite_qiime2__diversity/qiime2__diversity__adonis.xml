<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2023, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2022.11.1)
for:
    qiime2 (version: 2022.11.1)
-->
<tool name="qiime2 diversity adonis" id="qiime2__diversity__adonis" version="2022.11.1+q2galaxy.2022.11.1.2" profile="22.05" license="BSD-3-Clause">
    <description>adonis PERMANOVA test for beta group significance</description>
    <requirements>
        <container type="docker">quay.io/qiime2/core:2022.11</container>
    </requirements>
    <version_command>q2galaxy version diversity</version_command>
    <command detect_errors="exit_code">q2galaxy run diversity adonis '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="paths"/>
    </configfiles>
    <inputs>
        <param name="distance_matrix" type="data" format="qza" label="distance_matrix: DistanceMatrix" help="[required]  Matrix of distances between pairs of samples.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="DistanceMatrix"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['DistanceMatrix']</validator>
        </param>
        <repeat name="metadata" min="1" help="[required]  Sample metadata containing formula terms." title="metadata: Metadata">
            <conditional name="__q2galaxy__GUI__conditional__metadata__">
                <param name="type" type="select" label="metadata: Metadata">
                    <option value="tsv" selected="true">Metadata from TSV</option>
                    <option value="qza">Metadata from Artifact</option>
                </param>
                <when value="tsv">
                    <param name="source" type="data" format="tabular,qiime2.tabular" label="Metadata Source"/>
                </when>
                <when value="qza">
                    <param name="source" type="data" format="qza" label="Metadata Source"/>
                </when>
            </conditional>
        </repeat>
        <param name="formula" type="text" label="formula: Str" help="[required]  Model formula containing only independent terms contained in the sample metadata. These can be continuous variables or factors, and they can have interactions as in a typical R formula. E.g., the formula &quot;treatment+block&quot; would test whether the input distance matrix partitions based on &quot;treatment&quot; and &quot;block&quot; sample metadata. The formula &quot;treatment*block&quot; would test both of those effects as well as their interaction. Enclose formulae in quotes to avoid unpleasant surprises.">
            <sanitizer>
                <valid initial="string.printable"/>
            </sanitizer>
            <validator type="expression" message="Please verify this parameter.">value is not None and len(value) &gt; 0</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="permutations" type="integer" min="1" value="999" label="permutations: Int % Range(1, None)" help="[default: 999]  The number of permutations to be run when computing p-values."/>
            <param name="n_jobs" type="integer" min="1" value="1" label="n_jobs: Int % Range(1, None)" help="[default: 1]  Number of parallel processes to run."/>
        </section>
    </inputs>
    <outputs>
        <data name="visualization" format="qzv" label="${tool.name} on ${on_string}: visualization.qzv" from_work_dir="visualization.qzv"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: diversity adonis
=========================
adonis PERMANOVA test for beta group significance


Outputs:
--------
:visualization.qzv: &lt;no description&gt;

|  

Description:
------------
Determine whether groups of samples are significantly different from one another using the ADONIS permutation-based statistical test in vegan-R. The function partitions sums of squares of a multivariate data set, and is directly analogous to MANOVA (multivariate analysis of variance). This action differs from beta_group_significance in that it accepts R formulae to perform multi-way ADONIS tests; beta_group_signficance only performs one-way tests. For more details, consult the reference manual available on the CRAN vegan page: https://CRAN.R-project.org/package=vegan


|  

</help>
    <citations>
        <citation type="doi">https://doi.org/10.1111/j.1442-9993.2001.01070.pp.x</citation>
        <citation type="bibtex">@manual{cite2,
 author = {Jari Oksanen and F. Guillaume Blanchet and Michael Friendly and Roeland Kindt and Pierre Legendre and Dan McGlinn and Peter R. Minchin and R. B. O'Hara and Gavin L. Simpson and Peter Solymos and M. Henry H. Stevens and Eduard Szoecs and Helene Wagner},
 note = {R package version 2.5-3},
 title = {vegan: Community Ecology Package},
 url = {https://CRAN.R-project.org/package=vegan},
 year = {2018}
}
</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
