<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2025, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2025.10.0)
for:
    qiime2 (version: 2025.10.0)
-->
<tool name="qiime2 vsearch uchime-denovo" id="qiime2__vsearch__uchime_denovo" version="2025.10.0+q2galaxy.2025.10.0" profile="22.05" license="BSD-3-Clause">
    <description>De novo chimera filtering.</description>
    <xrefs>
        <xref type="bio.tools">qiime2</xref>
    </xrefs>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2025.10</container>
    </requirements>
    <version_command>q2galaxy version vsearch</version_command>
    <command detect_errors="exit_code">q2galaxy run vsearch uchime_denovo '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="sequences" type="data" format="qza" label="sequences: FeatureData[Sequence]" help="[required]  The feature sequences to be chimera-checked.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Sequence]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[Sequence]']</validator>
        </param>
        <param name="table" type="data" format="qza" label="table: FeatureTable[Frequency]" help="[required]  Feature table (used for computing total feature abundances).">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureTable[Frequency]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureTable[Frequency]']</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="method" type="select" label="method: Str % Choices('uchime', 'uchime2', 'uchime3')" display="radio">
                <option value="uchime" selected="true">uchime</option>
                <option value="uchime2">uchime2</option>
                <option value="uchime3">uchime3</option>
            </param>
            <param name="dn" type="float" min="0.0" value="1.4" label="dn: Float % Range(0.0, None)" help="[default: 1.4]  No vote pseudo-count, corresponding to the parameter n in the chimera scoring function."/>
            <param name="mindiffs" type="integer" min="1" value="3" label="mindiffs: Int % Range(1, None)" help="[default: 3]  Minimum number of differences per segment. Ignored for uchime2 and uchime3."/>
            <param name="mindiv" type="float" min="0.0" value="0.8" label="mindiv: Float % Range(0.0, None)" help="[default: 0.8]  Minimum divergence from closest parent. Ignored for uchime2 and uchime3."/>
            <param name="minh" type="float" min="0.0" max="1.0" value="0.28" label="minh: Float % Range(0.0, 1.0, inclusive_end=True)" help="[default: 0.28]  Minimum score (h). Increasing this value tends to reduce the number of false positives and to decrease sensitivity. Ignored for uchime2 and uchime3."/>
            <param name="xn" type="float" min="1.000001" value="8.0" label="xn: Float % Range(1.0, None, inclusive_start=False)" help="[default: 8.0]  No vote weight, corresponding to the parameter beta in the scoring function."/>
        </section>
    </inputs>
    <outputs>
        <data name="chimeras" format="qza" label="${tool.name} on ${on_string}: chimeras.qza" from_work_dir="chimeras.qza"/>
        <data name="nonchimeras" format="qza" label="${tool.name} on ${on_string}: nonchimeras.qza" from_work_dir="nonchimeras.qza"/>
        <data name="stats" format="qza" label="${tool.name} on ${on_string}: stats.qza" from_work_dir="stats.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: vsearch uchime-denovo
==============================
De novo chimera filtering.


Outputs:
--------
:chimeras.qza: The chimeric sequences.
:nonchimeras.qza: The non-chimeric sequences.
:stats.qza: Summary statistics from chimera checking.

|  

Description:
------------
Apply one of the vsearch uchime*_denovo methods to identify chimeric feature sequences. The results of these methods can be used to filter chimeric features from the corresponding feature table. For more details, please refer to the vsearch manual.


|  

</help>
    <citations>
        <citation type="bibtex">@article{cite1,
 author = {Edgar, Robert C and Haas, Brian J and Clemente, Jose C and Quince, Christopher and Knight, Rob},
 journal = {Bioinformatics},
 number = {16},
 pages = {2194--2200},
 publisher = {Oxford University Press},
 title = {UCHIME improves sensitivity and speed of chimera detection},
 volume = {27},
 year = {2011}
}
</citation>
        <citation type="bibtex">@article{cite2,
 author = {Edgar, Robert C},
 journal = {BioRxiv},
 pages = {074252},
 publisher = {Cold Spring Harbor Laboratory},
 title = {UCHIME2: improved chimera prediction for amplicon sequencing},
 year = {2016}
}
</citation>
        <citation type="bibtex">@article{cite3,
 author = {Edgar, Robert C},
 journal = {BioRxiv},
 pages = {081257},
 publisher = {Cold Spring Harbor Laboratory},
 title = {UNOISE2: improved error-correction for Illumina 16S and ITS amplicon sequencing},
 year = {2016}
}
</citation>
        <citation type="doi">10.7717/peerj.2584</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
