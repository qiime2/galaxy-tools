<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2024, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2024.2.1)
for:
    qiime2 (version: 2024.2.0)
-->
<tool name="qiime2 vsearch uchime-ref" id="qiime2__vsearch__uchime_ref" version="2024.2.0+q2galaxy.2024.2.1" profile="22.05" license="BSD-3-Clause">
    <description>Reference-based chimera filtering with vsearch.</description>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2024.2</container>
    </requirements>
    <version_command>q2galaxy version vsearch</version_command>
    <command detect_errors="exit_code">q2galaxy run vsearch uchime_ref '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="sequences" type="data" format="qza" label="sequences: FeatureData[Sequence]" help="[required]  The feature sequences to be chimera-checked.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Sequence]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[Sequence]']</validator>
        </param>
        <param name="table" type="data" format="qza" label="table: FeatureTable[Frequency]" help="[required]  Feature table (used for computing total feature abundances).">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureTable[Frequency]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureTable[Frequency]']</validator>
        </param>
        <param name="reference_sequences" type="data" format="qza" label="reference_sequences: FeatureData[Sequence]" help="[required]  The non-chimeric reference sequences.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureData[Sequence]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureData[Sequence]']</validator>
        </param>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="dn" type="float" min="0.0" value="1.4" label="dn: Float % Range(0.0, None)" help="[default: 1.4]  No vote pseudo-count, corresponding to the parameter n in the chimera scoring function."/>
            <param name="mindiffs" type="integer" min="1" value="3" label="mindiffs: Int % Range(1, None)" help="[default: 3]  Minimum number of differences per segment."/>
            <param name="mindiv" type="float" min="0.0" value="0.8" label="mindiv: Float % Range(0.0, None)" help="[default: 0.8]  Minimum divergence from closest parent."/>
            <param name="minh" type="float" min="0.0" max="1.0" value="0.28" label="minh: Float % Range(0.0, 1.0, inclusive_end=True)" help="[default: 0.28]  Minimum score (h). Increasing this value tends to reduce the number of false positives and to decrease sensitivity."/>
            <param name="xn" type="float" min="1.000001" value="8.0" label="xn: Float % Range(1.0, None, inclusive_start=False)" help="[default: 8.0]  No vote weight, corresponding to the parameter beta in the scoring function."/>
        </section>
    </inputs>
    <outputs>
        <data name="chimeras" format="qza" label="${tool.name} on ${on_string}: chimeras.qza" from_work_dir="chimeras.qza"/>
        <data name="nonchimeras" format="qza" label="${tool.name} on ${on_string}: nonchimeras.qza" from_work_dir="nonchimeras.qza"/>
        <data name="stats" format="qza" label="${tool.name} on ${on_string}: stats.qza" from_work_dir="stats.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: vsearch uchime-ref
===========================
Reference-based chimera filtering with vsearch.


Outputs:
--------
:chimeras.qza: The chimeric sequences.
:nonchimeras.qza: The non-chimeric sequences.
:stats.qza: Summary statistics from chimera checking.

|  

Description:
------------
Apply the vsearch uchime_ref method to identify chimeric feature sequences. The results of this method can be used to filter chimeric features from the corresponding feature table. For additional details, please refer to the vsearch documentation.


|  

</help>
    <citations>
        <citation type="doi">10.7717/peerj.2584</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
