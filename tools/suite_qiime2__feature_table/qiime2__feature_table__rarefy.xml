<?xml version='1.0' encoding='utf-8'?>
<!--
Copyright (c) 2024, QIIME 2 development team.

Distributed under the terms of the Modified BSD License. (SPDX: BSD-3-Clause)
-->
<!--
This tool was automatically generated by:
    q2galaxy (version: 2024.10.0)
for:
    qiime2 (version: 2024.10.1)
-->
<tool name="qiime2 feature-table rarefy" id="qiime2__feature_table__rarefy" version="2024.10.0+q2galaxy.2024.10.0" profile="22.05" license="BSD-3-Clause">
    <description>Rarefy table</description>
    <xrefs>
        <xref type="bio.tools">qiime2</xref>
    </xrefs>
    <requirements>
        <container type="docker">quay.io/qiime2/amplicon:2024.10</container>
    </requirements>
    <version_command>q2galaxy version feature_table</version_command>
    <command detect_errors="exit_code">q2galaxy run feature_table rarefy '$inputs'</command>
    <configfiles>
        <inputs name="inputs" data_style="staging_path_and_source_path"/>
    </configfiles>
    <inputs>
        <param name="table" type="data" format="qza" label="table: FeatureTable[Frequency]" help="[required]  The feature table to be rarefied.">
            <options options_filter_attribute="metadata.semantic_type">
                <filter type="add_value" value="FeatureTable[Frequency]"/>
            </options>
            <validator type="expression" message="Incompatible type">hasattr(value.metadata, "semantic_type") and value.metadata.semantic_type in ['FeatureTable[Frequency]']</validator>
        </param>
        <param name="sampling_depth" type="integer" min="1" value="" label="sampling_depth: Int % Range(1, None)" help="[required]  The total frequency that each sample should be rarefied to. Samples where the sum of frequencies is less than the sampling depth will be not be included in the resulting table."/>
        <section name="__q2galaxy__GUI__section__extra_opts__" title="Click here for additional options">
            <param name="with_replacement" type="boolean" truevalue="__q2galaxy__::literal::True" falsevalue="__q2galaxy__::literal::False" label="with_replacement: Bool" help="[default: No]  Rarefy with replacement by sampling from the multinomial distribution instead of rarefying without replacement."/>
        </section>
    </inputs>
    <outputs>
        <data name="rarefied_table" format="qza" label="${tool.name} on ${on_string}: rarefied_table.qza" from_work_dir="rarefied_table.qza"/>
    </outputs>
    <tests/>
    <help>
QIIME 2: feature-table rarefy
=============================
Rarefy table


Outputs:
--------
:rarefied_table.qza: The resulting rarefied feature table.

|  

Description:
------------
Subsample frequencies from all samples so that the sum of frequencies in each sample is equal to sampling-depth.


|  

</help>
    <citations>
        <citation type="doi">10.1186/s40168-017-0237-y</citation>
        <citation type="doi">10.1038/s41587-019-0209-9</citation>
    </citations>
</tool>
